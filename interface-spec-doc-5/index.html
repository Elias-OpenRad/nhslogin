<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <base href="/nhslogin">
     <link rel="stylesheet"  href="nhslogin/css/main.css">
      <link rel="stylesheet"  href="nhslogin/css/mobile-menu.css">
    <script src="nhslogin/js/main.min.js" ></script> 
<link rel="shortcut icon" href="/nhslogin/images/favicon.ico" type="image/x-icon">
<link rel="shortcut icon" href="/nhslogin/images/favicon.ico" type="image/x-icon">
<link rel="apple-touch-icon" href="/nhslogin/images/apple-touch-icon-180x180.png">
<link rel="mask-icon" href="/nhslogin/images/favicon.svg" color="#005eb8">
<link rel="icon" sizes="192x192" href="/nhslogin/images/favicon-192x192.png">

<title>5 Data view</title>
  </head>
  <body>
      <header class="nhsuk-header" role="banner">
        <div class="nhsuk-width-container nhsuk-header__container">
          <div class="nhsuk-header__logo">
            <a class="nhsuk-header__link nhsuk-header__link--service " href="/nhslogin" aria-label="NHS digital service manual homepage">
              <svg class="nhsuk-logo" xmlns="http://www.w3.org/2000/svg" role="presentation" focusable="false" viewBox="0 0 40 16">
                <path class="nhsuk-logo__background" d="M0 0h40v16H0z"></path>
                <path class="nhsuk-logo__text" d="M3.9 1.5h4.4l2.6 9h.1l1.8-9h3.3l-2.8 13H9l-2.7-9h-.1l-1.8 9H1.1M17.3 1.5h3.6l-1 4.9h4L25 1.5h3.5l-2.7 13h-3.5l1.1-5.6h-4.1l-1.2 5.6h-3.4M37.7 4.4c-.7-.3-1.6-.6-2.9-.6-1.4 0-2.5.2-2.5 1.3 0 1.8 5.1 1.2 5.1 5.1 0 3.6-3.3 4.5-6.4 4.5-1.3 0-2.9-.3-4-.7l.8-2.7c.7.4 2.1.7 3.2.7s2.8-.2 2.8-1.5c0-2.1-5.1-1.3-5.1-5 0-3.4 2.9-4.4 5.8-4.4 1.6 0 3.1.2 4 .6"></path>
                <image src="https://assets.nhs.uk/images/nhs-logo.png" xlink:href=""></image>
              </svg>
              <span class="nhsuk-header__service-name">
              NHS login - developer documentation
            </span>
            </a>
          </div>
          <div class="nhsuk-header__menu">
            <button class="nhsuk-header__menu-toggle" id="toggle-menu" aria-controls="header-navigation" aria-label="Open menu">Menu</button>
          </div>

          <div class="nhsuk-header__content" id="content-header"></form>
        </div>
      </div>
    </div>
  </div>
  <nav class="nhsuk-header__navigation mobile-menu" id="header-navigation" role="navigation" aria-label="Primary navigation"
  aria-labelledby="label-navigation">
  <div class="nhsuk-width-container">
    <p class="nhsuk-header__navigation-title"><span id="label-navigation">Menu</span>
      <button class="nhsuk-header__navigation-close" id="close-menu">
        <svg class="nhsuk-icon nhsuk-icon__close" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"
          aria-hidden="true" focusable="false">
          <path
            d="M13.41 12l5.3-5.29a1 1 0 1 0-1.42-1.42L12 10.59l-5.29-5.3a1 1 0 0 0-1.42 1.42l5.3 5.29-5.3 5.29a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0l5.29-5.3 5.29 5.3a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42z">
          </path>
        </svg>
        <span class="nhsuk-u-visually-hidden">Close menu</span>
      </button>
    </p>
    <ul class="nhsuk-header__navigation-list">
      <li>
        <h2 class="app-side-nav__heading mobile-menu__heading">
          NHS login
        </h2>
      </li>
      <li class="nhsuk-header__navigation-item nhsuk-header__navigation-item--for-mobile">
        <a class="nhsuk-header__navigation-link" href="/">
          What is NHS login
          <svg class="nhsuk-icon nhsuk-icon__chevron-right" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"
            aria-hidden="true">
            <path
              d="M15.5 12a1 1 0 0 1-.29.71l-5 5a1 1 0 0 1-1.42-1.42l4.3-4.29-4.3-4.29a1 1 0 0 1 1.42-1.42l5 5a1 1 0 0 1 .29.71z">
            </path>
          </svg>
        </a>
      </li>

      <li class="nhsuk-header__navigation-item">
        <a class="nhsuk-header__navigation-link" href="/nhslogin/oidc-login-flow">
          The OIDC login flow
          <svg class="nhsuk-icon nhsuk-icon__chevron-right" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"
            aria-hidden="true">
            <path
              d="M15.5 12a1 1 0 0 1-.29.71l-5 5a1 1 0 0 1-1.42-1.42l4.3-4.29-4.3-4.29a1 1 0 0 1 1.42-1.42l5 5a1 1 0 0 1 .29.71z">
            </path>
          </svg>
        </a>
      </li>

      <li>
        <h2 class="app-side-nav__heading mobile-menu__heading">
          Tesing NHS login
        </h2>
      </li>

      <li class="nhsuk-header__navigation-item">
        <a class="nhsuk-header__navigation-link" href="/nhslogin/test-login-service">
          Test Environments
          <svg class="nhsuk-icon nhsuk-icon__chevron-right" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"
            aria-hidden="true">
            <path
              d="M15.5 12a1 1 0 0 1-.29.71l-5 5a1 1 0 0 1-1.42-1.42l4.3-4.29-4.3-4.29a1 1 0 0 1 1.42-1.42l5 5a1 1 0 0 1 .29.71z">
            </path>
          </svg>
        </a>
      </li>
      <li class="nhsuk-header__navigation-item">
        <a class="nhsuk-header__navigation-link" href="/nhslogin/integrating-to-sandpit">
          Integrate to the sandpit
          <svg class="nhsuk-icon nhsuk-icon__chevron-right" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"
            aria-hidden="true">
            <path
              d="M15.5 12a1 1 0 0 1-.29.71l-5 5a1 1 0 0 1-1.42-1.42l4.3-4.29-4.3-4.29a1 1 0 0 1 1.42-1.42l5 5a1 1 0 0 1 .29.71z">
            </path>
          </svg>
        </a>
      </li>
      <li class="nhsuk-header__navigation-item">
        <a class="nhsuk-header__navigation-link" href="/nhslogin/generating-pem">
          Generating public key
          <svg class="nhsuk-icon nhsuk-icon__chevron-right" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"
            aria-hidden="true">
            <path
              d="M15.5 12a1 1 0 0 1-.29.71l-5 5a1 1 0 0 1-1.42-1.42l4.3-4.29-4.3-4.29a1 1 0 0 1 1.42-1.42l5 5a1 1 0 0 1 .29.71z">
            </path>
          </svg>
        </a>
      </li>

      <li>
        <h2 class="app-side-nav__heading mobile-menu__heading">
          External Interface Specification
        </h2>
      </li>

      <li class="nhsuk-header__navigation-item">
        <a class="nhsuk-header__navigation-link" href="/nhslogin/interface-spec-doc">
          Interface Specification Document
          <svg class="nhsuk-icon nhsuk-icon__chevron-right" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"
            aria-hidden="true">
            <path
              d="M15.5 12a1 1 0 0 1-.29.71l-5 5a1 1 0 0 1-1.42-1.42l4.3-4.29-4.3-4.29a1 1 0 0 1 1.42-1.42l5 5a1 1 0 0 1 .29.71z">
            </path>
          </svg>
        </a>
      </li>

      <li>
        <h2 class="app-side-nav__heading mobile-menu__heading">
          Conformance
        </h2>
      </li>

      <li class="nhsuk-header__navigation-item">
        <a class="nhsuk-header__navigation-link" href="/nhslogin/technical-conformance">
          Technical Conformance
          <svg class="nhsuk-icon nhsuk-icon__chevron-right" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"
            aria-hidden="true">
            <path
              d="M15.5 12a1 1 0 0 1-.29.71l-5 5a1 1 0 0 1-1.42-1.42l4.3-4.29-4.3-4.29a1 1 0 0 1 1.42-1.42l5 5a1 1 0 0 1 .29.71z">
            </path>
          </svg>
        </a>
      </li>

      <li>
        <h2 class="app-side-nav__heading mobile-menu__heading">
          Developer Support Information
        </h2>
      </li>

      <li class="nhsuk-header__navigation-item">
        <a class="nhsuk-header__navigation-link" href="/nhslogin/developer-support">
          Developer Support
          <svg class="nhsuk-icon nhsuk-icon__chevron-right" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"
            aria-hidden="true">
            <path
              d="M15.5 12a1 1 0 0 1-.29.71l-5 5a1 1 0 0 1-1.42-1.42l4.3-4.29-4.3-4.29a1 1 0 0 1 1.42-1.42l5 5a1 1 0 0 1 .29.71z">
            </path>
          </svg>
        </a>
      </li>

       <li>
        <h2 class="app-side-nav__heading mobile-menu__heading">
          GP Credentials
        </h2>
      </li>

       <li class="nhsuk-header__navigation-item">
        <a class="nhsuk-header__navigation-link" href="/nhslogin/gp-credentials-para">
          Using NHS login to create or retrieve GP credentials
          <svg class="nhsuk-icon nhsuk-icon__chevron-right" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"
            aria-hidden="true">
            <path
              d="M15.5 12a1 1 0 0 1-.29.71l-5 5a1 1 0 0 1-1.42-1.42l4.3-4.29-4.3-4.29a1 1 0 0 1 1.42-1.42l5 5a1 1 0 0 1 .29.71z">
            </path>
          </svg>
        </a>
      </li>

      <li class="nhsuk-header__navigation-item">
        <a class="nhsuk-header__navigation-link" href="/nhslogin/gp-credentials-doc">
          Scope and processing overview
          <svg class="nhsuk-icon nhsuk-icon__chevron-right" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"
            aria-hidden="true">
            <path
              d="M15.5 12a1 1 0 0 1-.29.71l-5 5a1 1 0 0 1-1.42-1.42l4.3-4.29-4.3-4.29a1 1 0 0 1 1.42-1.42l5 5a1 1 0 0 1 .29.71z">
            </path>
          </svg>
        </a>
      </li>

      <li>
        <h2 class="app-side-nav__heading mobile-menu__heading">
          Button Guidance
        </h2>
      </li>

      <li class="nhsuk-header__navigation-item">
        <a class="nhsuk-header__navigation-link" href="/nhslogin/adding-buttons">
          Adding the NHS login button to your service
          <svg class="nhsuk-icon nhsuk-icon__chevron-right" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"
            aria-hidden="true">
            <path
              d="M15.5 12a1 1 0 0 1-.29.71l-5 5a1 1 0 0 1-1.42-1.42l4.3-4.29-4.3-4.29a1 1 0 0 1 1.42-1.42l5 5a1 1 0 0 1 .29.71z">
            </path>
          </svg>
        </a>
      </li>

      <li>
        <h2 class="app-side-nav__heading mobile-menu__heading">
          NHS login user settings
        </h2>
      </li>

      <li class="nhsuk-header__navigation-item">
        <a class="nhsuk-header__navigation-link" href="/nhslogin/linking-to-settings-para">
          Settings information
          <svg class="nhsuk-icon nhsuk-icon__chevron-right" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"
            aria-hidden="true">
            <path
              d="M15.5 12a1 1 0 0 1-.29.71l-5 5a1 1 0 0 1-1.42-1.42l4.3-4.29-4.3-4.29a1 1 0 0 1 1.42-1.42l5 5a1 1 0 0 1 .29.71z">
            </path>
          </svg>
        </a>
      </li>


       <li>
        <h2 class="app-side-nav__heading mobile-menu__heading">
          Examples
        </h2>
      </li>

      <li class="nhsuk-header__navigation-item">
        <a class="nhsuk-header__navigation-link" href="/nhslogin/example-oidc">
          Example OIDC clients
          <svg class="nhsuk-icon nhsuk-icon__chevron-right" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"
            aria-hidden="true">
            <path
              d="M15.5 12a1 1 0 0 1-.29.71l-5 5a1 1 0 0 1-1.42-1.42l4.3-4.29-4.3-4.29a1 1 0 0 1 1.42-1.42l5 5a1 1 0 0 1 .29.71z">
            </path>
          </svg>
        </a>
      </li>
    </ul>
  </div>
</nav>
</header>

<div class="nhsuk-width-container">
  <main class="nhsuk-main-wrapper app-main-wrapper" id="maincontent">

    <div class="nhsuk-grid-row">
      <div class="nhsuk-grid-column-full app-component-reading-width">

        <div class="app-pane">

         <div class="app-pane__side-bar">

            <nav class="app-side-nav">
            
                <h2 class="app-side-nav__heading">NHS login</h2>
                <ul class="nhsuk-list app-side-nav__list">

                  <li class="app-side-nav__item">
                    <a class="app-side-nav__link" href="/nhslogin">What is NHS login?</a>
                  </li>
                  <li class="app-side-nav__item">
                    <a class="app-side-nav__link" href="nhslogin/oidc-login-flow">The OIDC login flow</a>
                  </li>
                </ul>
                <h2 class="app-side-nav__heading">Integrating with NHS login</h2>
                <ul class="nhsuk-list app-side-nav__list">

                  <li class="app-side-nav__item">
                    <a class="app-side-nav__link" href="/nhslogin/integration-process">The NHS login integration process</a>
                  </li>
                  <li class="app-side-nav__item">
                    <a class="app-side-nav__link" href="nhslogin/adding-buttons">Adding the NHS login button to your service</a>
                  </li>
                </ul>
                <h2 class="app-side-nav__heading">Testing NHS login</h2>
                <ul class="nhsuk-list app-side-nav__list">

                  <li class="app-side-nav__item">
                    <a class="app-side-nav__link" href="/nhslogin/test-login-service">Test environments</a>
                  </li>
                  <li class="app-side-nav__item">
                    <a class="app-side-nav__link" href="nhslogin/integrating-to-sandpit">Integrate to the sandpit</a>
                  </li>
                  <li class="app-side-nav__item">
                    <a class="app-side-nav__link" href="nhslogin/generating-pem">Generate public key</a>
                  </li>
                </ul>
                <h2 class="app-side-nav__heading">External Interface Specification</h2>
                <ul class="nhsuk-list app-side-nav__list">

                  <li class="app-side-nav__item">
                    <a class="app-side-nav__link" href="nhslogin/interface-spec-doc">Interface Specification Document</a>
                </ul>

                <h2 class="app-side-nav__heading">Conformance</h2>
                <ul class="nhsuk-list app-side-nav__list">

                  <li class="app-side-nav__item">
                    <a class="app-side-nav__link" href="nhslogin/technical-conformance">Technical Conformance</a>
                  </li>
                </ul>

                <h2 class="app-side-nav__heading">Developer Support Information</h2>
                <ul class="nhsuk-list app-side-nav__list">

                  <li class="app-side-nav__item">
                    <a class="app-side-nav__link" href="nhslogin/developer-support">Developer Support</a>
                  </li>
                </ul>

                <h2 class="app-side-nav__heading">GP Credentials</h2>
                <ul class="nhsuk-list app-side-nav__list">
                   <li class="app-side-nav__item">
                    <a class="app-side-nav__link" href="nhslogin/gp-credentials">Using NHS login to create or retrieve GP credentials</a>
                  </li>
                </ul>
                <h2 class="app-side-nav__heading">NHS login user settings</h2>
                <ul class="nhsuk-list app-side-nav__list">
                  <li class="app-side-nav__item">
                    <a class="app-side-nav__link" href="nhslogin/linking-to-settings-para">Settings information</a>
                  </li>
                </ul>
                <h2 class="app-side-nav__heading">Single Sign On</h2>
                <ul class="nhsuk-list app-side-nav__list">
                  <li class="app-side-nav__item">
                    <a class="app-side-nav__link" href="nhslogin/single-sign-on">SSO guidance</a>
                  </li>
                </ul>
                <h2 class="app-side-nav__heading">Examples</h2>
                <ul class="nhsuk-list app-side-nav__list">
                  <li class="app-side-nav__item">
                    <a class="app-side-nav__link" href="nhslogin/example-oidc">Example OIDC clients</a>
                  </li>
                </ul>
            </nav>
          </div>


          <div class="app-pane__main-content">

            <h1 class="app-page-heading">
              5 Data view
            </h1>

            <h2>5.1 Vectors of Trust</h2>
<p>References:</p>
<ul>
<li><a href="http://digital.nhs.uk/isce/publication/dcb3051">DCB3051 Identity Verification and Authentication Standard for Digital Health and Care Services</a></li>
<li><a href="https://openid.bitbucket.io/iGov/openid-igov-profile-id1.html">International Government Assurance Profile (iGov)</a></li>
<li><a href="https://tools.ietf.org/html/draft-richer-vectors-of-trust-09">RFC8485 - Vectors of Trust</a></li>
</ul>
<p>NHS login supports Vectors of Trust for Identification Verification and Authentication. Credential Management and Assertion Presentation are out of scope.</p>
<h3>5.1.1 Verification of Identity Levels</h3>
<p>NHS login supports the following levels of identification verification. These are based upon <a href="https://openid.bitbucket.io/iGov/openid-igov-profile-id1.html">DCB3051 Identity Verification and Authentication Standard for Digital Health and Care Services</a>.</p>
<dl><dt>Table 18 - NHS login Verification Levels</dt></dl>
<table>
<thead>
<tr>
<th>Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>P0</code></td>
<td>No identity proofing <br> This maps to 'Verification - Low' within <a href="https://openid.bitbucket.io/iGov/openid-igov-profile-id1.html">DCB3051</a></td>
</tr>
<tr>
<td><code>P5</code></td>
<td>Knowledge-based verification ONLY <br> This maps to 'Verification - Medium' within <a href="https://openid.bitbucket.io/iGov/openid-igov-profile-id1.html">DCB3051</a></td>
</tr>
<tr>
<td><code>P9</code></td>
<td>Physical comparison <br> This maps to 'Verification - High' within <a href="https://openid.bitbucket.io/iGov/openid-igov-profile-id1.html">DCB3051</a></td>
</tr>
</tbody>
</table>
<h3>5.1.2 Authentication Credentials</h3>
<p>NHS login supports the following types of authentication credentials.  Note that the credential component may occur more than once.</p>
<dl><dt>Table 19 - NHS login Authentication Context Class</dt></dl>
<table>
<thead>
<tr>
<th>Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Cp</code></td>
<td>Password-based <br>The user is in possession of a secret (for example a password, PIN, etc) belonging to the legitimate account holder</td>
</tr>
<tr>
<td><code>Cd</code></td>
<td>Registered Device <br>The user is in possession of a device which has previously been associated with their account – delivery/use of the device is by identifiers only</td>
</tr>
<tr>
<td><code>Ck</code></td>
<td>Shared Cryptographic key within a Registered Device <br>The user is in possession of a device which has previously been associated with their account – delivery/use of the device is by a <strong>shared</strong> key</td>
</tr>
<tr>
<td><code>Cm</code></td>
<td>Asymmetric Cryptographic key within a Registered Device <br>The user is in possession of a device which has previously been associated with their account – delivery/use of the device is by cryptographic proof of key possession using <strong>asymmetric</strong> key, such as a FIDO-compliant device</td>
</tr>
</tbody>
</table>
<h3>5.1.3	Requesting Vectors of Trust values</h3>
<p>Vector of Trust (VoT) is a combination of - Identity Verification (defined in <a href="https://nhsconnect.github.io/nhslogin/interface-spec-doc-5">5.1.1 Verification of Identity Levels</a>) and Authentication (defined in <a href="https://nhsconnect.github.io/nhslogin/interface-spec-doc-5">5.1.2 Authentication Credentials</a>) levels.</p>
<p>The client <strong>MAY</strong> request a set of acceptable VoT values with the <code>vtr</code> (vector of trust request) claim request as part of the Authentication Request. The value of this field is an array of JSON strings, each string identifying an acceptable set of vector components. The component values within each vector are <strong>AND</strong>ed together while the separate vectors are <strong>OR</strong>ed together.  For example, a list of vectors in the form <code>[&quot;P9.Cp.Cd &quot;, &quot;P9.Ck&quot;]</code> is stating that either the full set of &quot;P9 <strong>AND</strong> Cp <strong>AND</strong> Cd&quot; simultaneously <strong>OR</strong> the full set of &quot;P9 <strong>AND</strong> Ck&quot; simultaneously are acceptable for this transaction.</p>
<p>The requested set of VoT, <strong>SHOULD</strong> only contain one value for Identity Verification component, combined with one or more values of the Authentication component.</p>
<p>Client <strong>SHOULD</strong> only request the lowest level of acceptable Identity Verification, within the VoT set. Vector request values <strong>MAY</strong> omit components, indicating that any value is acceptable for that component category, including omission of that component in the response vector.</p>
<h3>5.1.4	Returning Vectors of Trust values</h3>
<p>The vector is sent as a string within the <code>vot</code> (vector of trust) claim in the ID and Access tokens. The trustmark that applies to this vector <strong>SHALL</strong> be sent as an HTTPS URL in the <code>vtm</code> (vector trust mark) claim to provide context to the vector.</p>
<p>For example, part of the body of an ID token claiming &quot;Medium Assurance Identity, authenticated user via password and registered device identifier&quot; could look like this JSON object payload of the ID token.</p>
<pre class="language-html"><code class="language-html">{<br>…<br>…<br>  "iss": " https://auth.login.nhs.uk/",<br>  "vot": "P5.Cp.Cd",<br>  "vtm": https://auth.login.nhs.uk/trustmark/login.nhs.uk<br>…<br>…<br>}</code></pre>
<p>The body of the token is signed using JOSE, as per the OpenID Connect specification. By putting the &quot;vot&quot; and &quot;vtm&quot; values inside the token, the vector and its context are strongly bound to the federated credential represented by the token.</p>
<h3>5.1.5 Trustmark</h3>
<p>References</p>
<ul>
<li><a href="https://tools.ietf.org/html/draft-richer-vectors-of-trust-09">RFC8485 - Vectors of Trust</a>, section 5</li>
</ul>
<p>The Trustmark provides a list of claims that NHS login supports. This enables the client to verify which components of a trust framework NHS login supports and hence their trustworthiness.</p>
<p>The NHS login Trustmark will be self-hosted.</p>
<p>The following is a non-normative example a Trustmark based on <a href="https://nhsconnect.github.io/nhslogin/interface-spec-doc-5">5.1.3 Requesting Vectors of Trust values</a> and <a href="https://nhsconnect.github.io/nhslogin/interface-spec-doc-5">5.1.4 Returning Vectors of Trust values</a> above:</p>
<pre class="language-html"><code class="language-html">{<br>  "idp": "https://auth.login.nhs.uk/",<br>  "trustmark_provider": "https://auth.login.nhs.uk/",<br>  "P": ["P0", "P3", "P5", "P6", "P7", "P9"],<br>  "C": ["Cp", "Cd", "Ck", "Cm"]<br>}</code></pre>
<h3>5.1.6	Profiles</h3>
<p>Aligning the above to the standard <a href="http://digital.nhs.uk/isce/publication/dcb3051">DCB3051 Identity Verification and Authentication Standard for Digital Health and Care Services</a> brings a standard set of vectors supported by the NHS login Service, described in the table below.</p>
<table>
<thead>
<tr>
<th>Vector</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>“P0.Cp”</code></td>
<td>Low Identity verification, <br>user authenticated using password</td>
</tr>
<tr>
<td><code>“P0.Cp.Cd”</code></td>
<td>Low Identity verification, <br>user authenticated using password <br>and enrolled device (2FA)</td>
</tr>
<tr>
<td><code>“P0.Cp.Ck”</code></td>
<td>Low Identity verification, <br>user authenticated using password <br>and shared key within a device (2FA)</td>
</tr>
<tr>
<td><code>“P5.Cp.Cd”</code></td>
<td>Medium Identity verification, <br>user authenticated using password <br>and enrolled device (2FA)</td>
</tr>
<tr>
<td><code>“P5.Cp.Ck”</code></td>
<td>Medium Identity verification, <br>user authenticated using password <br>and shared key within a device (2FA)</td>
</tr>
<tr>
<td><code>“P5.Cm”</code></td>
<td>Medium Identity verification, <br>user authenticated via asymmetric <br>key within a device (2FA) (for example, <br>FIDO UAF authentication)</td>
</tr>
<tr>
<td><code>“P9.Cp.Cd”</code></td>
<td>High Identity verification, <br>user authenticated using password <br>and enrolled device (2FA)</td>
</tr>
<tr>
<td><code>“P9.Cp.Ck”</code></td>
<td>High Identity verification, <br>user authenticated using password <br>and shared key within a device (2FA)</td>
</tr>
<tr>
<td><code>“P9.Cm”</code></td>
<td>High Identity verification, <br>user authenticated via asymmetric <br>key within a device (2FA) (for example, <br>FIDO UAF authentication)</td>
</tr>
</tbody>
</table>
<p><strong>5.1.6.1	Example 1 – Partner Service provides access to sensitive data</strong></p>
<p>This example maps onto archetypes A1, A4, A5, A6, A7 within the standard <a href="http://digital.nhs.uk/isce/publication/dcb3051">DCB3051 Identity Verification and Authentication Standard for Digital Health and Care Services</a>.</p>
<p>The service requires High Verification and High Authentication. The service sends the following as acceptable Vectors in the <code>vtr</code> parameter:</p>
<p><code>“[“P9.Cp.Cd”,“P9.Cp.Ck”,“P9.Cm”]”</code></p>
<p><strong>5.1.6.2	Example 2 – Partner Service provides access to basic data (not sensitive)</strong></p>
<p>This example maps onto archetype A3 within the standard <a href="http://digital.nhs.uk/isce/publication/dcb3051">DCB3051 Identity Verification and Authentication Standard for Digital Health and Care Services</a>.</p>
<p>The service requires Medium Verification and High Authentication, with SSO allowed. The service sends the following as acceptable Vectors in the <code>vtr</code> parameter:</p>
<p><code>“[“P5.Cp.Cd”, “P5.Cp.Ck”,“P5.Cm”]”</code></p>
<p><strong>5.1.6.3	Example 3 – Partner Service provides access to both basic data (not sensitive) and sensitive data</strong></p>
<p>This example maps onto a service offering multiple features, of which some require basic user data, and some require sensitive user data.</p>
<p>Service requests NHS login for Medium Verification (P5) and High Authentication for a user. The service sends the following as acceptable Vectors in the <code>vtr</code> parameter:</p>
<p><code>“[“P5.Cp.Cd”,“P5.Cp.Ck”,“P5.Cm”]”</code></p>
<p>Successfully authenticated user can either be P5 or P9 in terms of identity verification.</p>
<p>For a P9 user (high identity verification) the service can offer all the functionalities, as the user meets service requirements of High Verification and High Authentication.</p>
<p>For a P5 user (medium identity verification) the service offers basic features at the user’s initial login as the user meets service requirements of Medium Verification and High Authentication only.</p>
<p>When a P5 user, attempts to access other features supported by sensitive data then the service requires High Verification and High Authentication, with SSO allowed. The service sends the following as acceptable Vectors in the <code>vtr</code> parameter:</p>
<p><code>“[“P9.Cp.Cd”,“P9.Cp.Ck”,“P9.Cm”]”</code></p>
<p><strong>5.1.6.4	The user is prompted to undertake a verification step-up journey to take the user verification level from Medium to High.Single Sign-on</strong></p>
<p>If the user’s current sign-on session (if any), does not meet the requested Vectors of Trust (<code>vtr</code>) in the incoming request, then the user will be required to sign-in, in order to meet the requested vectors.</p>
<p>Also note that Single sign-on behaviour, or to refuse SSO-behaviour, can be controlled using the <code>prompt</code> parameter on the initial authorisation request – see <a href="https://nhsconnect.github.io/nhslogin/interface-spec-doc-3">3.4.1 Authentication request</a>.</p>


     <div class="app-edit-instructions">
              <hr />
              <p>Edit <a href="https://github.com/nhsconnect/nhslogin/blob/master/./src/interface-spec-doc-5.md">this page</a> on GitHub
              </p>
      </div>

            <div class="app-index-navigation app-u-hide-desktop">
              <nav class="app-side-nav">
                </ul>
              </nav>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>
</div>

<footer role="contentinfo">
  <div class="nhsuk-footer" id="nhsuk-footer">
    <div class="nhsuk-width-container">
      <h2 class="nhsuk-u-visually-hidden">Support links</h2>
      <ul class="nhsuk-footer__list">
        <li class="nhsuk-footer__list-item">
          <a class="nhsuk-footer__list-item-link" href="https://github.com/nhsconnect/nhslogin">Github</a>
        </li>
       <li class="nhsuk-footer__list-item">
          <a class "nhsuk-footer__list-item-link" href="https://nhs-login-support-slack-invite.herokuapp.com/">Slack</a>
        </li>
       <li class="nhsuk-footer__list-item">
          <a class "nhsuk-footer__list-item-link" href="mailto:engage.nhslogin@nhs.net">engage.nhslogin@nhs.net</a>
        </li>
      </ul>
      <p class="nhsuk-footer__copyright">© Crown copyright</p>
    </div>
  </div>
  <div class="app-ogl-footer">
    <div class="nhsuk-width-container"></div>
  </div>
</footer>
<script src="nhslogin/js/mobile-menu.js" ></script> 
</body>
</html>
